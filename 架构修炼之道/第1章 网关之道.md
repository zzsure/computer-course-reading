#第1章 网关之道

## 1.1 认识API网关

### 1.1.1 API网关是什么
- 这里说的网关特指API网关（API Gateway），字面意思是将所有API的调用统一接入API网关层，由网关负责接入和输出
- 微服务：将原来集中一体的功能（比如商品功能、订单功能）进行拆分，每个功能模块有各自的自成体系的发布、运维等功能
- API Gateway很好地解决了微服务下客户端调用、统一接入的问题。业务团队可以专注自己的业务逻辑处理，API网关更注重安全、流量、路由等问题
- 网关与代理的区别：代理纯粹是做数据透传，协议不会发生变化。网关在数据透传的背景下，可能还会涉及到协议的转换

### 1.1.2 API网关涵盖的基本功能
- 一个API网关的基本功能包括统一接入、协议适配、流量管控与容错、以及安全防护

### 1.1.3 API网关架构示例
- 网关运行良好的环境还包括注册中心（比如通过ZooKeeper读取已发布的API接口的动态配置）。
- 为了实现高性能，数据可全部异构到缓存（比如Redis）中
- 访问日志存储放Hbase
- 如果开放网关，需要一个支持OAuth 2.0协议的授权中心
- 可以引入Nginx+Lua的方式，将一些基本的检验判断前置到应用系统之上
